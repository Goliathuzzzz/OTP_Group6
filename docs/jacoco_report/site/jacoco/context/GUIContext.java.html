<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html;charset=UTF-8" http-equiv="Content-Type"/>
    <link href="../jacoco-resources/report.css" rel="stylesheet" type="text/css"/>
    <link href="../jacoco-resources/report.gif" rel="shortcut icon" type="image/gif"/>
    <title>GUIContext.java</title>
    <link href="../jacoco-resources/prettify.css" rel="stylesheet" type="text/css"/>
    <script src="../jacoco-resources/prettify.js" type="text/javascript"></script>
</head>
<body onload="window['PR_TAB_WIDTH']=4;prettyPrint()">
<div class="breadcrumb" id="breadcrumb"><span class="info"><a class="el_session"
                                                              href="../jacoco-sessions.html">Sessions</a></span><a
        class="el_report" href="../index.html">OT_Project</a> &gt; <a class="el_package" href="index.source.html">gui_context</a>
    &gt; <span class="el_source">GUIContext.java</span></div>
<h1>GUIContext.java</h1>
<pre class="source lang-java linenums">package gui_context;

import javafx.beans.property.SimpleStringProperty;
import javafx.beans.property.StringProperty;
import javafx.fxml.FXML;
import model.*;

import java.util.List;

public class GUIContext {
    private static GUIContext instance;
    private User user;
<span class="fc" id="L13">    private boolean isUser = false;</span>
    private Guest guest;
<span class="fc" id="L15">    private boolean isGuest = false;</span>
<span class="fc" id="L16">    private boolean isAdmin = false;</span>
    private Session session;
    private Matcher matcher;
    private List&lt;Match&gt; matches;

    @FXML
    private final StringProperty nameProperty, emailProperty, phoneProperty;

<span class="fc" id="L24">    private GUIContext() {</span>
<span class="fc" id="L25">        this.nameProperty = new SimpleStringProperty();</span>
<span class="fc" id="L26">        this.emailProperty = new SimpleStringProperty();</span>
<span class="fc" id="L27">        this.phoneProperty = new SimpleStringProperty();</span>
<span class="fc" id="L28">    }</span>

    public static GUIContext getInstance() {
<span class="fc bfc" id="L31" title="All 2 branches covered.">        if (instance == null) {</span>
<span class="fc" id="L32">            instance = new GUIContext();</span>

        }
<span class="fc" id="L35">        return instance;</span>
    }

    public void setUser(User user) {
<span class="fc" id="L39">        this.user = user;</span>
<span class="fc" id="L40">        isUser = true;</span>
<span class="fc bfc" id="L41"
      title="All 2 branches covered.">        if (user.getRole().equals(&quot;admin&quot;)) {</span>
<span class="fc" id="L42">            isAdmin = true;</span>
        }
<span class="fc" id="L44">    }</span>

    public User getUser() {
<span class="fc" id="L47">        return user;</span>
    }

    public boolean isUser() {
<span class="fc" id="L51">        return isUser;</span>
    }

    public void setUserName(String name) {
<span class="fc" id="L55">        user.setUserName(name);</span>
<span class="fc" id="L56">        setUserNameProperty(name);</span>
<span class="fc" id="L57">    }</span>

    public String getUserName() {
<span class="fc" id="L60">        return user.getUserName();</span>
    }

    public String getUserEmail() {
<span class="fc" id="L64">        return user.getEmail();</span>
    }

    public String getUserPhoneNumber() {
<span class="fc" id="L68">        return user.getPhoneNumber();</span>
    }

    public void setUserEmail(String email) {
<span class="fc" id="L72">        user.setEmail(email);</span>
<span class="fc" id="L73">        setEmailProperty(email);</span>
<span class="fc" id="L74">    }</span>

    public void setUserPhoneNumber(String pn) {
<span class="fc" id="L77">        user.setPhoneNumber(pn);</span>
<span class="fc" id="L78">        setPhoneProperty(pn);</span>
<span class="fc" id="L79">    }</span>

    public StringProperty getUserNameProperty() {
<span class="fc" id="L82">        return nameProperty;</span>
    }

    public void setUserNameProperty(String name) {
<span class="fc" id="L86">        nameProperty.set(name);</span>
<span class="fc" id="L87">    }</span>

    public StringProperty getEmailProperty() {
<span class="fc" id="L90">        return emailProperty;</span>
    }

    public void setEmailProperty(String email) {
<span class="fc" id="L94">        emailProperty.set(email);</span>
<span class="fc" id="L95">    }</span>

    public StringProperty getPhoneProperty() {
<span class="fc" id="L98">        return phoneProperty;</span>
    }

    public void setPhoneProperty(String phoneNumber) {
<span class="fc" id="L102">        phoneProperty.set(phoneNumber);</span>
<span class="fc" id="L103">    }</span>

    public void setSession(Session session) {
<span class="fc" id="L106">        this.session = session;</span>
<span class="fc" id="L107">        System.out.println(&quot;DEBUG: session set in GUIContext&quot;);</span>
<span class="fc" id="L108">    }</span>

    public void setGuest(Guest guest) {
<span class="fc" id="L111">        this.guest = guest;</span>
<span class="fc" id="L112">        isGuest = true;</span>
<span class="fc" id="L113">    }</span>

    public Guest getGuest() {
<span class="fc" id="L116">        return guest;</span>
    }

    public boolean isGuest() {
<span class="fc" id="L120">        return isGuest;</span>
    }

    public boolean isAdmin() {
<span class="fc" id="L124">        return isAdmin;</span>
    }

    public String getGuestPhoneNumber() {
<span class="nc" id="L128">        return guest.getPhoneNumber();</span>
    }

    public Session getSession() {
<span class="fc" id="L132">        return session;</span>
    }

    public Matcher getMatcher() {
<span class="fc" id="L136">        return matcher;</span>
    }

    public void setMatcher(Matcher matcher) {
<span class="fc" id="L140">        this.matcher = matcher;</span>
<span class="fc" id="L141">    }</span>

    public List&lt;Match&gt; getMatches() {
<span class="fc" id="L144">        return matches;</span>
    }

    public void setMatches(List&lt;Match&gt; matches) {
<span class="fc" id="L148">        this.matches = matches;</span>
<span class="fc" id="L149">    }</span>

    public void setMatch(Match match) {
<span class="fc" id="L152">        matches.add(match);</span>
<span class="fc" id="L153">    }</span>

    public int getId() {
<span class="fc bfc" id="L156" title="All 2 branches covered.">        if (isUser) {</span>
<span class="fc" id="L157">            return user.getId();</span>
<span class="fc bfc" id="L158" title="All 2 branches covered.">        } else if (isGuest) {</span>
<span class="fc" id="L159">            return guest.getId();</span>
        } else {
<span class="fc" id="L161">            System.err.println(&quot;ERROR: No user or guest data found&quot;);</span>
<span class="fc" id="L162">            return -1;</span>
        }
    }

    public void logout() {
<span class="fc" id="L167">        user = null;</span>
<span class="fc" id="L168">        guest = null;</span>
<span class="fc" id="L169">        session = null;</span>
<span class="fc" id="L170">        matcher = null;</span>
<span class="fc" id="L171">        matches = null;</span>

<span class="fc" id="L173">        isUser = false;</span>
<span class="fc" id="L174">        isGuest = false;</span>
<span class="fc" id="L175">        isAdmin = false;</span>

<span class="fc" id="L177">        nameProperty.set(&quot;&quot;);</span>
<span class="fc" id="L178">        emailProperty.set(&quot;&quot;);</span>
<span class="fc" id="L179">        phoneProperty.set(&quot;&quot;);</span>
<span class="fc" id="L180">    }</span>
}
</pre>
<div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span>
</div>
</body>
</html>